<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Dashboard - Admin</title>
    <meta name="description" content="A responsive bootstrap 4 admin dashboard template by hencework" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="dist/img/favi.ico">
    <link rel="icon" href="dist/img/favi.ico" type="image/x-icon">

    <!-- Morris Charts CSS -->
    <link href="dist/vendors4/morris.js/morris.css" rel="stylesheet" type="text/css" />

    <!-- Toggles CSS -->
    <link href="dist/vendors4/jquery-toggles/css/toggles.css" rel="stylesheet" type="text/css">
    <link href="dist/vendors4/jquery-toggles/css/themes/toggles-light.css" rel="stylesheet" type="text/css">

    <!-- Toastr CSS -->
    <link href="dist/vendors4/jquery-toast-plugin/dist/jquery.toast.min.css" rel="stylesheet" type="text/css">

    <!-- Pace -->
    <link rel="stylesheet" href="dist/vendors4/pace-progress/themes/blue/pace-theme-minimal.css">

    <!-- Custom CSS -->
    <link href="dist/css/style.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="dist/css/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="dist/vendors4/daterangepicker/daterangepicker.css">

</head>

<body>
    <!-- HK Wrapper -->
    <div class="hk-wrapper hk-vertical-nav">

        <!-- Top Navbar -->
        <nav class="navbar navbar-expand-xl navbar-light fixed-top hk-navbar">
            <a id="navbar_toggle_btn" class="navbar-toggle-btn nav-link-hover" href="javascript:void(0);"><i
                    class="ion ion-ios-menu"></i></a>
            <a class="navbar-brand" href="admin.html">
                <img class="brand-img d-inline-block mr-5" src="dist/img/ico.png" alt="brand" />&nbsp; Main Panel
            </a>
            <ul class="navbar-nav hk-navbar-content" id="ui_header_profile"></ul>
        </nav>
        <!-- /Top Navbar -->

        <!--Vertical Nav-->
        <div id="navHTML"></div>
        <div id="hk_nav_backdrop" class="hk-nav-backdrop"></div>
        <!--/Vertical Nav-->

        <!-- Main Content -->
        <div class="hk-pg-wrapper">
            <!-- Container -->
            <div class="container-fluid mt-sm-30 mt-15">
                <!-- Row -->
                <div class="row">
                    <div class="col-xl-12">
                        <div class="row">
                            <div class="col-md-5 pr-1">
                                <div class="card p-3" style="background-color: #C8DBFF;">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <h4 style="color: #367BFF;">Hi, Welcome Back </h4>
                                            <h4 class="mt-5" id="dashboard_AdminName"></h4>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="img-admin">
                                                <img src="dist/img/admin-vector.png" class="img-fluid" alt="">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 px-1">
                                <a href="https://app-admin.fggroup.in/user.html?menu_item=menu_users" target="_blank">
                                    <div class="card-counter primary">
                                        <span class="count-numbers" id="fwgUserCount">141</span>
                                        <span class="count-name">FWG User</span>
                                        <i class="far fa-user"></i>
                                    </div>
                                </a>
                            </div>
                            <div class="col-md-3 px-1">
                                <a href="https://admin.fggroup.in/pages/user/user.html" target="_blank">
                                    <div class="card-counter info">
                                        <span class="count-numbers" id="fgiitUserCount">120</span>
                                        <span class="count-name">FGIIT User</span>
                                        <i class="fas fa-users-cog"></i>
                                    </div>
                                </a>
                            </div>
                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-6">
                                        <a href="https://admin.fggroup.in/pages/contact/contact_inquiry.html"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #e6ffac;">
                                                            <i class="fas fa-info-circle"
                                                                style="font-size: 40px; color: #5a8100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #5a8100;" class="ml-3">FGIIT Inquiry</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="https://admin.gcsconsultant.com/admin/pages/user/?search=FitIT"
                                            class="border-0" style="background: none;">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ace4ff;">
                                                            <i class="fas fa-question-circle"
                                                                style="font-size: 40px; color: #0077b3;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #0077b3;" class="ml-3">FitIT Inquiry </h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="https://app-admin.fggroup.in/admin.html?menu_item=menu_dashboard"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ffd4c0;">
                                                            <i class="fas fa-dumbbell"
                                                                style="font-size: 40px; color: #ff5100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #ff5100;" class="ml-3">FWG Admin Panel</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="https://admin.fggroup.in/index.html" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #e6ffac;">
                                                            <i class="fas fa-university"
                                                                style="font-size: 40px; color: #5a8100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #5a8100;" class="ml-3">FGIIT Admin Panel</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="https://admin.gcsconsultant.com/admin/" class="border-0"
                                            style="background: none;">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ace4ff;">
                                                            <i class="fas fa-handshake"
                                                                style="font-size: 40px; color: #0077b3;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #0077b3;" class="ml-3">GCS Admin Panel</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-6">
                                        <a href="https://fitnesswithgomzi.com/admin/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ace4ff;">
                                                            <i class="fas fa-id-card"
                                                                style="font-size: 40px; color: #0077b3;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #0077b3;" class="ml-3">HRM Panel</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card card-counter">
                                    <div class="userData" style="display: none;">
                                        <div class="row align-items-center">
                                            <div class="col-md-6">
                                                <h6 id="totalUserChart" class="border-3 border-left pl-2 border-primary"
                                                    style="background: #e7f8ff; width: 160px; padding: 5px;">
                                                    Total User Chart
                                                </h6>
                                            </div>
                                            <div class="col-md-6 text-right">
                                                <h5 class="mt-5">
                                                    Total User:- <span id="userCounts">0</span>
                                                </h5>
                                            </div>
                                        </div>
                                        <div class="col-md-12 text-center">
                                            <div id="totalUser" class="mt-4">
                                                <canvas id="chart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="invoiceData" style="display: none;">
                                        <div class="row align-items-center">
                                            <div class="col-md-12 mb-3">
                                                <h6 id="totalUserChart" class="border-3 border-left pl-2 border-primary"
                                                    style="background: #e7f8ff; width: 160px; padding: 5px;">
                                                    Total Plan Chart
                                                </h6>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="toggle mr-3 mb-0">
                                                    <input class="toggle-checkbox" type="checkbox"
                                                        onchange="toggleButtonText()">
                                                    <div class="toggle-switch"></div>
                                                    <span id="text-display">FWG</span>
                                                </label>
                                            </div>
                                            <div class="col-md-8 justify-content-end d-flex">
                                                <div id="reportrange"
                                                    style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: fit-content;">
                                                    <i class="fa fa-calendar" style="font-size: 12px;"></i>&nbsp;
                                                    <span style="font-size: 14px;"></span> <i class="fa fa-caret-down"
                                                        style="font-size: 12px;"></i>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 text-center mt-3">
                                            <div>
                                                <canvas id="invoiceDataChart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 mt-2">
                                            <select id="dataDropdown" class="border-3 border-left pl-2 border-primary"
                                                style="border-radius: 5px;" onchange="toggleData()">
                                                <option value="invoiceData">Invoice Data</option>
                                                <option value="userData">User Data</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mt-2">
                                            <h6 class="" id="totalAmount"></h6>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8 mt-3">
                                <div class="card card-counter">
                                    <div class="row align-items-center">
                                        <div class="col-md-3">
                                            <div class="row align-items-center">
                                                <div class="col-md-6">
                                                    <h6 class="border-3 border-left pl-2 border-primary"
                                                        style="background: #e7f8ff; width: 160px; padding: 5px;">
                                                        Due Amount
                                                    </h6>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 justify-content-end d-flex">
                                            <div id="reportrange1"
                                                style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: fit-content;">
                                                <i class="fa fa-calendar" style="font-size: 12px;"></i>&nbsp;
                                                <span style="font-size: 14px;"></span> <i class="fa fa-caret-down"
                                                    style="font-size: 12px;"></i>
                                            </div>
                                        </div>
                                        <div class="col-md-2 text-right">
                                            <select id="deuDataDropdown"
                                                class="border-3 border-left pl-2 border-primary"
                                                style="border-radius: 5px;" onchange="toggleDataDue()">
                                                <option value="fwgData">FWG Data</option>
                                                <option value="fgiitData">FGIIT Data</option>
                                                <option value="gcsData">GCS Data</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 mt-15" id="fwgAmount">
                                            <div class="row align-items-center">
                                                <div class=" col-md-4">
                                                    <div class="card-design-icon" style="background-color: #ffd4c0;">
                                                        <i class="fas fa-dumbbell"
                                                            style="font-size: 40px; color: #ff5100;"></i>
                                                    </div>
                                                </div>
                                                <div class="col-md-8">
                                                    <h5 class="">FWG</h5>
                                                    <h4 class="" id="txt_fwgDueAmount">₹10,050/-</h4>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4 mt-15" id="fgiitAmount" style="display: none;">
                                            <div class="row align-items-center">
                                                <div class=" col-md-4">
                                                    <div class="card-design-icon m-auto"
                                                        style="background-color: #e6ffac;">
                                                        <i class="fas fa-university"
                                                            style="font-size: 40px; color: #5a8100;"></i>
                                                    </div>
                                                </div>
                                                <div class="col-md-8">
                                                    <h5 class="">FGIIT</h5>
                                                    <h4 class="" id="txt_fgiitDueAmount">₹10,050/-</h4>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4 mt-15" id="gcsAmount" style="display: none;">
                                            <div class="row align-items-center">
                                                <div class=" col-md-4">
                                                    <div class="card-design-icon m-auto"
                                                        style="background-color: #ace4ff;">
                                                        <i class="fas fa-handshake"
                                                            style="font-size: 40px; color: #0077b3;"></i>
                                                    </div>
                                                </div>
                                                <div class="col-md-8">
                                                    <h5 class="">GCS</h5>
                                                    <h4 class="" id="txt_gcsDueAmount">₹10,050/-</h4>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 mt-20">
                                            <div class="table-wrap">
                                                <table id="tbl_invoice_user" class="table table-bordered table-striped"
                                                    style="width: 100%;">
                                                    <thead>
                                                        <tr>
                                                            <th>No.</th>
                                                            <th>User Name</th>
                                                            <th>Product Name</th>
                                                            <th>Purchase Date</th>
                                                            <th>Due Amount</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr class="text-center">
                                                            <td colspan="7"><img src="dist/img/loader.gif"
                                                                    style="width:30px">
                                                            </td>
                                                            <td hidden></td>
                                                            <td hidden></td>
                                                            <td hidden></td>
                                                            <td hidden></td>
                                                            <td hidden></td>
                                                        </tr>
                                                    </tbody>
                                                    <tfoot>
                                                        <tr>
                                                            <th>No.</th>
                                                            <th>User Name</th>
                                                            <th>Product Name</th>
                                                            <th>Purchase Date</th>
                                                            <th>Due Amount</th>
                                                            <th>Action</th>
                                                        </tr>
                                                    </tfoot>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 mt-3">
                                <div class="card card-counter">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row align-items-center">
                                                <div class="col-md-12">
                                                    <h6 id="totalUserChart"
                                                        class="border-3 border-left pl-2 border-primary"
                                                        style="background: #e7f8ff; width: 160px; padding: 5px;">
                                                        Inquiry Chart
                                                    </h6>
                                                </div>
                                                <div class="col-md-12 mt-3">
                                                    <div id="reportrange2"
                                                        style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: fit-content;">
                                                        <i class="fa fa-calendar" style="font-size: 12px;"></i>&nbsp;
                                                        <span style="font-size: 14px;"></span> <i
                                                            class="fa fa-caret-down" style="font-size: 12px;"></i>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <canvas id="pieChart" width="300" height="250"></canvas>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="mt-2">
                                                <div class="text-center">
                                                    <h5 class="mb-2 mt-2">List Of Category</h5>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 mt-1">
                                                        <div class="text-center">
                                                            <div
                                                                style="width: 80px; margin:auto; height: 20px; background-color: #992cff; border-radius: 2px;">
                                                            </div>
                                                            <h6 class="ml-2 mt-1">Social Media = <span
                                                                    id="txt_social">0</span></h6>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mt-1">
                                                        <div class="text-center">
                                                            <div
                                                                style="width: 80px; margin:auto; height: 20px; background-color:#06db20; border-radius: 2px;">
                                                            </div>
                                                            <h6 class="ml-2 mt-1">Google = <span
                                                                    id="txt_google">0</span>
                                                            </h6>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mt-1">
                                                        <div class="text-center">
                                                            <div
                                                                style="width: 80px; margin:auto; height: 20px; background-color: #2c4cff; border-radius: 2px;">
                                                            </div>
                                                            <h6 class="ml-2 mt-1">Facebook Ads = <span
                                                                    id="txt_facebook">0</span>
                                                            </h6>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mt-1">
                                                        <div class="text-center">
                                                            <div
                                                                style="width: 80px; margin:auto; height: 20px; background-color: #2cabff; border-radius: 2px;">
                                                            </div>
                                                            <h6 class="ml-2 mt-1">Reference = <span
                                                                    id="txt_reference">0</span></h6>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 mt-25">
                                <div class="ml-5">
                                    <h3>Fitness With Gomzi</h3>
                                </div>
                                <div class="row mt-15">
                                    <div class="col-md-4">
                                        <a href="https://app-admin.fggroup.in/sales-dashboard.html?menu_item=menu_sales_dashboard"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon">
                                                            <i class="fas fa-money-bill-wave-alt"
                                                                style="font-size: 40px; color: #005eff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #005eff;">Total Sales</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://app-admin.fggroup.in/all-expenses.html" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #b89aff;">
                                                            <i class="fas fa-hand-holding-usd"
                                                                style="font-size: 40px; color: #7134ff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #7134ff;">Expenses</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://app-admin.fggroup.in/trainer.html?menu_item=menu_trainer"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ffd4c0;">
                                                            <i class="fas fa-dumbbell"
                                                                style="font-size: 40px; color: #ff5100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #ff5100;">Trainer</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://app-admin.fggroup.in/diet.html?menu_item=diet_plan"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #e6ffac;">
                                                            <i class="fas fa-utensils"
                                                                style="font-size: 40px; color: #5a8100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #5a8100;">General Diet</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://app-admin.fggroup.in/exercise.html?menu_item=menu_exercise"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ace4ff;">
                                                            <i class="fas fa-weight"
                                                                style="font-size: 40px; color: #0077b3;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #0077b3;">General Exercise</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 mt-25">
                                <div class="ml-5">
                                    <h3>FGIIT</h3>
                                </div>
                                <div class="row mt-15">
                                    <div class="col-md-4">
                                        <a href="https://admin.fggroup.in/student_dashboard.html" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon">
                                                            <i class="fas fa-user-graduate"
                                                                style="font-size: 40px; color: #005eff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #005eff;">Student Dashboard</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://admin.fggroup.in/pages/fgiit/scholarship_result.html"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #b89aff;">
                                                            <i class="fas fa-pen-alt"
                                                                style="font-size: 40px; color: #7134ff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #7134ff;">Scholarship Result</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://admin.fggroup.in/pages/fgiit/scholarship_result.html"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ffd4c0;">
                                                            <i class="fas fa-ad"
                                                                style="font-size: 40px; color: #ff5100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #ff5100;">Refer Coupon</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://admin.fggroup.in/pages/fgiit/fitness_course.html"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #e6ffac;">
                                                            <i class="fas fa-university"
                                                                style="font-size: 40px; color: #5a8100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #5a8100;">Fitness Course</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://admin.fggroup.in/pages/user/user_book_subscription.html"
                                            target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ace4ff;">
                                                            <i class="fas fa-book"
                                                                style="font-size: 40px; color: #0077b3;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #0077b3;">Book Order</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 mt-25">
                                <div class="ml-5">
                                    <h3>Gomzi Consulting Services</h3>
                                </div>
                                <div class="row mt-15">
                                    <div class="col-md-4">
                                        <a href="https://admin.gcsconsultant.com/admin/pages/user/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon">
                                                            <i class="far fa-envelope"
                                                                style="font-size: 40px; color: #005eff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #005eff;">Total Inquiry</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://admin.gcsconsultant.com/pages/gcs/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #b89aff;">
                                                            <i class="fas fa-users"
                                                                style="font-size: 40px; color: #7134ff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #7134ff;">User</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-12 mt-25">
                                <div class="ml-5">
                                    <h3>HRM</h3>
                                </div>
                                <div class="row mt-15">
                                    <div class="col-md-4">
                                        <a href="https://fitnesswithgomzi.com/admin/aemployee/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon">
                                                            <i class="fas fa-id-card"
                                                                style="font-size: 40px; color: #005eff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #005eff;">Employee Detail</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://fitnesswithgomzi.com/admin/atask/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #b89aff;">
                                                            <i class="fas fa-tasks"
                                                                style="font-size: 40px; color: #7134ff;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #7134ff;">Assign task</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://fitnesswithgomzi.com/admin/sop/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ffd4c0;">
                                                            <i class="fas fa-stream"
                                                                style="font-size: 40px; color: #ff5100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #ff5100;">Sop</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://fitnesswithgomzi.com/admin/employee-leave/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #e6ffac;">
                                                            <i class="fas fa-sign-out-alt"
                                                                style="font-size: 40px; color: #5a8100;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #5a8100;">Leave</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                    <div class="col-md-4">
                                        <a href="https://fitnesswithgomzi.com/admin/lead/" target="_blank">
                                            <div class="card card-design">
                                                <div class="row align-items-center">
                                                    <div class="col-md-3">
                                                        <div class="card-design-icon"
                                                            style="background-color: #ace4ff;">
                                                            <i class="fas fa-user-check"
                                                                style="font-size: 40px; color: #0077b3;"></i>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-9">
                                                        <h4 style="color: #0077b3;">Leads</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /Container -->

                    <!-- Footer -->
                    <div class="hk-footer-wrap container">
                        <footer class="footer">
                            <div class="row">
                                <div class="col-md-12 col-sm-12">
                                    <p>Copyright &copy
                                        <a href="https://fgdigitals.com" target="_blank">FG
                                            Digital</a>&nbsp;Powered by<a href="https://fitnesswithgomzi.com"
                                            target="_blank">Fitness With Gomzi</a>
                                    </p>
                                </div>

                            </div>
                        </footer>
                    </div>
                    <!-- /Footer -->
                </div>
                <!-- /Main Content -->

            </div>
            <!-- /HK Wrapper -->

            <!-- jQuery -->
            <script src="dist/vendors4/jquery/dist/jquery.min.js"></script>

            <!-- Bootstrap Core JavaScript -->
            <script src="dist/vendors4/popper.js/dist/umd/popper.min.js"></script>
            <script src="dist/vendors4/bootstrap/dist/js/bootstrap.min.js"></script>

            <!-- Slimscroll JavaScript -->
            <script src="dist/js/jquery.slimscroll.js"></script>

            <!-- Fancy Dropdown JS -->
            <script src="dist/js/dropdown-bootstrap-extended.js"></script>

            <!-- FeatherIcons JavaScript -->
            <script src="dist/js/feather.min.js"></script>

            <!-- Toggles JavaScript -->
            <script src="dist/vendors4/jquery-toggles/toggles.min.js"></script>
            <script src="dist/js/toggle-data.js"></script>

            <!-- Toastr JS -->
            <script src="dist/vendors4/jquery-toast-plugin/dist/jquery.toast.min.js"></script>
            <script src="dist/js/toast-data.js"></script>

            <!-- Data Table JavaScript -->
            <script src="dist/vendors4/datatables.net/js/jquery.dataTables.min.js"></script>
            <script src="dist/vendors4/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
            <script src="dist/vendors4/datatables.net-dt/js/dataTables.dataTables.min.js"></script>
            <script src="dist/vendors4/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
            <script src="dist/vendors4/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
            <script src="dist/vendors4/datatables.net-buttons/js/buttons.flash.min.js"></script>
            <script src="dist/vendors4/jszip/dist/jszip.min.js"></script>
            <script src="dist/vendors4/pdfmake/build/pdfmake.min.js"></script>
            <script src="dist/vendors4/pdfmake/build/vfs_fonts.js"></script>
            <script src="dist/vendors4/datatables.net-buttons/js/buttons.html5.min.js"></script>
            <script src="dist/vendors4/datatables.net-buttons/js/buttons.print.min.js"></script>
            <script src="dist/vendors4/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
            <script src="dist/js/dataTables-data.js"></script>

            <!-- Counter Animation JavaScript -->
            <script src="dist/vendors4/waypoints/lib/jquery.waypoints.min.js"></script>
            <script src="dist/vendors4/jquery.counterup/jquery.counterup.min.js"></script>

            <!-- Select2 JavaScript -->
            <script src="dist/vendors4/select2/dist/js/select2.full.min.js"></script>
            <!-- <script src="dist/js/select2-data.js"></script> -->

            <!-- Morris Charts JavaScript -->
            <script src="dist/vendors4/raphael/raphael.min.js"></script>
            <script src="dist/vendors4/morris.js/morris.min.js"></script>

            <!-- Easy pie chart JS -->
            <script src="dist/vendors4/easy-pie-chart/dist/jquery.easypiechart.min.js"></script>

            <!-- Apex JavaScript -->
            <script src="dist/vendors4/apexcharts/dist/apexcharts.min.js"></script>

            <!-- EChartJS JavaScript -->
            <script src="dist/vendors4/echarts/dist/echarts-en.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

            <!-- Init JavaScript -->
            <script src="dist/js/init.js"></script>
            <script src="dist/js/dashboard2-data.js"></script>

            <!-- Sweet-alert -->
            <script src="dist/sweetalert2.js"></script>

            <!-- Pace -->
            <script src="dist/vendors4/pace-progress/pace.min.js"></script>

            <!--Nestable js -->
            <script src="dist/vendors4/nestable2/dist/jquery.nestable.min.js"></script>

            <!-- Custom Script -->
            <script src="dist/app.js"></script>
            <script src="dist/menu-items.js"></script>

            <!-- Authorization -->
            <script src="dist/authorization.js"></script>

            <!-- DatePiker -->
            <script src="dist/vendors4/moment/min/moment.min.js"></script>
            <script src="dist/vendors4/daterangepicker/daterangepicker.js"></script>

            <script>
                // Common error handler
                function handleError(error) {
                    console.log(error);
                }

                // Authorization check
                function checkAuthorization() {
                    if (!localStorage.getItem("authorization")) {
                        window.location.href = 'login.html';
                    }
                    $.get({
                        url: BASE_URL + '/get-profile',
                        dataType: 'json',
                        headers: {
                            "authorization": localStorage.getItem("authorization"),
                        },
                        success: (result) => {
                            var profileData = result.data;
                            localStorage.setItem('type', JSON.stringify(profileData.type));
                            $("#dashboard_AdminName").html(profileData.full_name);
                        },
                        error: handleError
                    });
                }

                $(document).ready(() => {
                    checkAuthorization();
                    regenerateTokenFGIIT();
                    regenerateTokenFWG();
                    setTimeout(fetchFGiitData, 2000);
                    setTimeout(fetchFwgData, 2000);
                    setTimeout(toggleData, 2000);
                });


                // // Fetch FWG token
                // function fetchFwgToken() {
                //     $.get({
                //         url: BASE_URL + '/oAuth/master/get?scope=fwg',
                //         success: (result) => {
                //             var tokenData = result.data;
                //             localStorage.setItem('fwg_token', tokenData.authorization);
                //         },
                //         error: handleError
                //     });
                // }

                // // Fetch FG Group token
                // function fetchFGiitToken() {
                //     $.get({
                //         url: BASE_URL + '/oAuth/master/get?scope=fg_group',
                //         success: (result) => {
                //             var tokenData = result.data;
                //             localStorage.setItem('fg_group_token', tokenData.authorization);
                //         },
                //         error: handleError
                //     });
                // }

                function regenerateTokenFGIIT() {
                    $.post({
                        url: BASE_URL + '/oAuth/master/regenerate',
                        contentType: 'application/json',
                        data: JSON.stringify({
                            scope: "fg_group",
                        }),
                        success: (result) => {
                            var tokenData = result.data;
                            localStorage.setItem('fg_group_token', tokenData.authorization);
                        },
                        error: handleError
                    });
                }

                function regenerateTokenFWG() {
                    $.post({
                        url: BASE_URL + '/oAuth/master/regenerate',
                        contentType: 'application/json',
                        data: JSON.stringify({
                            scope: "fwg",
                        }),
                        success: (result) => {
                            var tokenData = result.data;
                            localStorage.setItem('fwg_token', tokenData.authorization);
                        },
                        error: handleError
                    });
                }

                // Fetch FWG data
                function fetchFwgData() {
                    $.get({
                        url: 'https://app-api.fggroup.in/admin/v1/dashboard/stats',
                        headers: {
                            "authorization": localStorage.getItem("fwg_token"),
                        },
                        success: (result) => {

                            const count = result.data.total_users
                            const userCounts = document.getElementById('fwgUserCount');
                            const fwgUserCounts = document.getElementById('userCounts');
                            userCounts.textContent = count;
                            fwgUserCounts.textContent = count;
                            const chartData = result.data.chart_data_user;

                            // Extract month labels and user counts
                            const labels = chartData.map(entry => entry.month);
                            const counts = chartData.map(entry => entry.count);

                            // Create the chart
                            const ctx = document.getElementById('chart').getContext('2d');
                            new Chart(ctx, {
                                type: 'line',
                                data: {
                                    labels: labels,
                                    datasets: [{
                                        label: `Total User - ${count}`,
                                        data: counts,
                                        backgroundColor: 'rgba(75, 192, 192, 0.6)',
                                        borderColor: 'rgba(75, 192, 192, 1)',
                                        borderWidth: 1
                                    }]
                                },
                                options: {
                                    responsive: true,
                                    scales: {
                                        y: {
                                            beginAtZero: true,
                                            precision: 0
                                        }
                                    }
                                }
                            });
                        },
                        error: handleError
                    });
                }

                // Fetch FG Group data
                function fetchFGiitData() {
                    $.get({
                        url: 'https://api.fggroup.in/admin/v1/dashboard/get-dashboard',
                        headers: {
                            "authorization": localStorage.getItem("fg_group_token"),
                        },
                        success: (result) => {
                            var data = result.data;
                            const count = data.active_user;
                            const assignUserCount = document.getElementById('fgiitUserCount');
                            assignUserCount.textContent = count;

                        },
                        error: handleError
                    });
                }

                // Define a variable to store the selected date range
                let selectedStartDate, selectedEndDate;

                $(document).ready(function () {
                    // Initialize date range picker and apply the initial date filter
                    $('#reportrange').daterangepicker({
                        startDate: moment().subtract(29, 'days'),
                        endDate: moment(),
                        ranges: {
                            'Today': [moment(), moment()],
                            'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                            'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                            'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                            'This Month': [moment().startOf('month'), moment().endOf('month')],
                            'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
                            'Lifetime': [moment('2000-01-01'), moment()] // Add a Lifetime range
                        }
                    }, applyDateFilter);

                    // Event handler for date range change
                    function applyDateFilter(start, end) {
                        if (!start || !end) {
                            // Use the default date range if start and end are not provided
                            start = moment().subtract(29, 'days');
                            end = moment();
                        }

                        selectedStartDate = start;
                        selectedEndDate = end;

                        $('#reportrange span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));

                        // Call your function to update the chart with the selected date range
                        getInvoiceChart(selectedStartDate, selectedEndDate);
                    }

                    // Initial call to load data with the default date range
                    applyDateFilter();

                    // Call the getInvoiceChart function with the default date range when the page loads
                    getInvoiceChart(selectedStartDate, selectedEndDate);

                });

                function getInvoiceChart(startDate, endDate) {
                    $.get({
                        url: 'https://app-api.fggroup.in/admin/v1/invoice/get',
                        headers: {
                            "authorization": localStorage.getItem("fwg_token"),
                        },
                        success: (result) => {
                            const data = result.data;

                            // Apply date filter to the fetched data
                            const filteredData = data.filter((tempInvoice) => {
                                const invoiceDate = moment(tempInvoice.date, 'YYYY-MM-DD');
                                return invoiceDate.isBetween(startDate, endDate, null, '[]');
                            });
                            // Define an array of invoice names to check against for FGIIT and FWG
                            const invoiceProductNameFGIIT = [
                                'Injury Rehabilitation Workshop',
                                'Anabolic Androgenic Steroids',
                                'Advance Clinical Nutrition Workshop',
                                'Diploma In Personal Training course',
                                'Diploma In Nutrition course',
                                'Group Instructor Workshop',
                                'Flexible Course'
                            ];

                            const invoiceProductNameFWG = [
                                'RTP-1.0_ Weight Loss Program',
                                'RTP-2.0 Weight Management Program',
                                'RTP-3.0 Clinical Illness',
                                'RTP-4.0 Corporate Event',
                                'RTP-5.0 Prep Coaching',
                                'Health and Fitness Book'
                            ];

                            const productAmounts = {}; // Object to store total paid amount for each product name

                            // Define the array to use based on the state of the toggle button
                            const targetArray = document.querySelector(".toggle-checkbox").checked ? invoiceProductNameFGIIT : invoiceProductNameFWG;
                            let totalAmount = 0;
                            // Loop through each invoice detail
                            for (let i = 0; i < filteredData.length; i++) {
                                const tempInvoice = filteredData[i];
                                const productName = tempInvoice.productName;
                                const totalAmountInvoice = Number(tempInvoice.totalPayment);
                                totalAmount += totalAmountInvoice;

                                // Check if the product name is present in the target array
                                if (targetArray.includes(productName)) {
                                    // If the product name is present, add the paidPayment to the array for that product
                                    if (productAmounts[productName]) {
                                        productAmounts[productName].push(parseInt(tempInvoice.paidPayment));
                                    } else {
                                        productAmounts[productName] = [parseInt(tempInvoice.paidPayment)];
                                    }
                                }
                            }

                            // Calculate the total paid amount for each product
                            const totalPaidAmounts = {};
                            for (const productName in productAmounts) {
                                const paidAmountsArray = productAmounts[productName];
                                const totalPaidAmount = paidAmountsArray.reduce((total, amount) => total + amount, 0);
                                totalPaidAmounts[productName] = totalPaidAmount;
                            }

                            // Format the total amount with currency symbol and commas
                            const formattedTotalAmount = `Total Income: ₹ ${totalAmount.toLocaleString()} /-`;

                            $("#totalAmount").text(formattedTotalAmount)
                            updateBarChart(totalPaidAmounts);
                        },
                        error: (error) => {
                            return error.responseJSON ? toastError('Error', error.responseJSON.message) : toastError();
                        }
                    });
                }

                function toggleButtonText() {
                    const textDisplay = document.getElementById("text-display");
                    const toggleCheckbox = document.querySelector(".toggle-checkbox");

                    if (toggleCheckbox.checked) {
                        textDisplay.textContent = "FGIIT"; // Toggle is ON
                        // Call the getInvoiceChart function with the selected date range and toggle state
                        getInvoiceChart(selectedStartDate, selectedEndDate, "FGIIT");
                    } else {
                        textDisplay.textContent = "FWG"; // Toggle is OFF
                        // Call the getInvoiceChart function with the selected date range and toggle state
                        getInvoiceChart(selectedStartDate, selectedEndDate, "FWG");
                    }
                }

                let barChart; // Variable to store the Chart instance

                function updateBarChart(productAmounts) {
                    if (barChart) {
                        // Destroy the existing chart instance if it exists
                        barChart.destroy();
                    }
                    const ctx = document.getElementById("invoiceDataChart").getContext("2d");
                    const labels = Object.keys(productAmounts).map(formatLabel);
                    const data = Object.values(productAmounts);

                    const dataWithRupeeSign = data.map(amount => `₹ ${amount}`);

                    barChart = new Chart(ctx, {
                        type: "bar",
                        data: {
                            labels: labels,
                            datasets: [
                                {
                                    label: "Total Payment",
                                    data: data,
                                    backgroundColor: [
                                        'rgba(255, 99, 132, 0.2)',
                                        'rgba(255, 159, 64, 0.2)',
                                        'rgba(255, 205, 86, 0.2)',
                                        'rgba(75, 192, 192, 0.2)',
                                        'rgba(54, 162, 235, 0.2)'
                                    ],
                                    borderColor: "rgba(75, 192, 192, 1)",
                                    borderWidth: 1
                                }
                            ]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    ticks: {
                                        callback: function (value, index, values) {
                                            return `₹ ${value}`;
                                        }
                                    }
                                }
                            }
                        }
                    });
                }


                // Helper function to format labels with custom abbreviations
                function formatLabel(label) {
                    // Custom label abbreviations
                    const abbreviations = {
                        'Injury Rehabilitation Workshop': 'IRW',
                        'Anabolic Androgenic Steroids': 'AAS',
                        'Flexible Course': 'Flexi Course',
                        'Advance Clinical Nutrition Workshop': 'ACNW',
                        'Diploma In Personal Training course': 'DPT',
                        'Diploma In Nutrition course': 'DNC',
                        'Group Instructor Workshop': 'GIW',
                        'RTP-1.0_ Weight Loss Program': 'RTP-1.0',
                        'RTP-2.0 Weight Management Program': 'RTP-2.0',
                        'RTP-3.0 Clinical Illness': 'RTP-3.0',
                        'RTP-4.0 Corporate Event': 'RTP-4.0',
                        'RTP-5.0 Prep Coaching': 'RTP-5.0',
                        'Health and Fitness Book': 'Book'
                    };

                    // Check if the label has a custom abbreviation, if not, truncate the label to the desired length
                    return abbreviations[label] || label.substring(0, 7);
                }

                function toggleData() {
                    const dropdown = document.getElementById("dataDropdown");
                    const selectedValue = dropdown.value;

                    const userDataDiv = document.querySelector(".userData");
                    const invoiceDataDiv = document.querySelector(".invoiceData");
                    const totalAmountH = document.querySelector("#totalAmount");

                    if (selectedValue === "userData") {
                        userDataDiv.style.display = "block";
                        invoiceDataDiv.style.display = "none";
                        totalAmountH.style.display = "none";
                    } else if (selectedValue === "invoiceData") {
                        userDataDiv.style.display = "none";
                        invoiceDataDiv.style.display = "block";
                        totalAmountH.style.display = "block";
                    }
                }

                let selectedStartDateDue, selectedEndDateDue;
                let tblInvoice;

                $(document).ready(function () {
                    // Initialize the data table
                    tblInvoice = $('#tbl_invoice_user').DataTable({
                        destroy: true,
                        responsive: true,
                        lengthMenu: [5, 25, 50, 75, 100, 200, 500, 800, 1000],
                        pageLength: 5,
                        paging: true, // Disable pagination
                        searching: true,
                        language: {
                            search: "_INPUT_",
                            searchPlaceholder: "Search...",
                            "sLengthMenu": "Show _MENU_ Records",
                        },
                        "dom": '<"row"<"col-8"l><"col-4"f><"col-12"rt><"col-12">><"row"<"col"i><"col"p>><"clear">',
                        columns: [
                            { width: "1%" },
                            { width: "19%" },
                            { width: "20%" },
                            { width: "20%" },
                            { width: "20%" },
                            { width: "20%" },
                        ],
                    });

                    // Initialize date range picker and apply the initial date filter
                    $('#reportrange1').daterangepicker({
                        startDate: moment().subtract(29, 'days'),
                        endDate: moment(),
                        ranges: {
                            'Today': [moment(), moment()],
                            'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                            'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                            'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                            'This Month': [moment().startOf('month'), moment().endOf('month')],
                            'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
                            'Lifetime': [moment('2000-01-01'), moment()]
                        }
                    }, applyDateFilter1);

                    // Event handler for date range change
                    function applyDateFilter1(start, end) {
                        if (!start || !end) {
                            // Use the default date range if start and end are not provided
                            start = moment().subtract(29, 'days');
                            end = moment();
                        }

                        selectedStartDateDue = start;
                        selectedEndDateDue = end;

                        $('#reportrange1 span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));

                        // Call your function to update the chart with the selected date range
                        getDueAmount(selectedStartDateDue, selectedEndDateDue, 'fwgData');
                    }

                    // Initial call to load data with the default date range
                    applyDateFilter1();
                    getDueAmount(selectedStartDateDue, selectedEndDateDue, 'fwgData');
                });

                function getDueAmount(startDate, endDate, productType) {
                    $.get({
                        url: 'https://app-api.fggroup.in/admin/v1/invoice/get',
                        headers: {
                            "authorization": localStorage.getItem("fwg_token"),
                        },
                        success: (result) => {
                            const data = result.data;
                            // Apply date filter to the fetched data
                            const filteredData = data.filter((tempInvoice) => {
                                const invoiceDate = moment(tempInvoice.date, 'YYYY-MM-DD');
                                return invoiceDate.isBetween(startDate, endDate, null, '[]');
                            });

                            // Define an object of invoice product names for FGIIT and FWG with short names
                            const invoiceProductNameFGIIT = {
                                'Injury Rehabilitation Workshop': 'IRW',
                                'Anabolic Androgenic Steroids': 'AAS',
                                'Advance Clinical Nutrition Workshop': 'ACNW',
                                'Diploma In Personal Training course': 'DPT',
                                'Diploma In Nutrition course': 'DNC',
                                'Group Instructor Workshop': 'GIW',
                                'Flexible Course': 'Flexi Course'
                            };

                            const invoiceProductNameFWG = {
                                'RTP-1.0_ Weight Loss Program': 'RTP-1.0',
                                'RTP-2.0 Weight Management Program': 'RTP-2.0',
                                'RTP-3.0 Clinical Illness': 'RTP-3.0',
                                'RTP-4.0 Corporate Event': 'RTP-4.0',
                                'RTP-5.0 Prep Coaching': 'RTP-5.0',
                                'Health and Fitness Book': 'Book'
                            };

                            // Define the target object based on the selected product type
                            const targetObject = productType === 'fgiitData' ? invoiceProductNameFGIIT : invoiceProductNameFWG;

                            // Process and display the data in your table
                            displayDueAmounts(filteredData, targetObject, productType);
                        },
                        error: (error) => {
                            return error.responseJSON ? toastError('Error', error.responseJSON.message) : toastError();
                        }
                    });
                }

                function displayDueAmounts(data, targetObject, productType) {
                    // Clear existing table data
                    tblInvoice.clear().draw();

                    // Initialize total due amount
                    let totalDueAmount = 0;

                    // Loop through the data and calculate due amounts
                    for (let i = 0; i < data.length; i++) {
                        const tempInvoice = data[i];
                        const productName = tempInvoice.productName;
                        const totalAmountInvoice = Number(tempInvoice.totalPayment);
                        const paidAmount = Number(tempInvoice.paidPayment);
                        const dueAmount = totalAmountInvoice - paidAmount;
                        if (dueAmount === 0) {
                            // Skip data with no due amount
                            continue;
                        }

                        // Check if the product name is in the target object
                        if (targetObject.hasOwnProperty(productName)) {
                            const shortProductName = targetObject[productName]; // Get the short product name

                            let action = `<button type="button" class="btn btn-outline-success px-2 py-1" onclick="sendWhatsAppReminder('${tempInvoice.phoneNumber}','${tempInvoice.fullName}', '${dueAmount}')"><i class="fab fa-whatsapp font-18 mr-1"></i>Send</button>`

                            // Add a new row to the DataTable with due amount
                            tblInvoice.row.add([
                                i + 1,
                                tempInvoice.fullName,
                                shortProductName, // Display the short product name
                                tempInvoice.date,
                                `₹ ${dueAmount.toLocaleString()} /-`,
                                action
                            ]).draw();

                            // Update the total due amount
                            totalDueAmount += dueAmount;
                        }
                    }

                    // Display the total due amount based on the selected product type
                    if (productType === 'fwgData') {
                        $("#txt_fwgDueAmount").text(`₹${totalDueAmount.toLocaleString()} /-`);
                    } else if (productType === 'fgiitData') {
                        $("#txt_fgiitDueAmount").text(`₹${totalDueAmount.toLocaleString()} /-`);
                    }
                }


                // Handle the toggle button change event
                function toggleDataDue() {
                    // Get the selected value of the dropdown
                    const dropdown = document.getElementById("deuDataDropdown");
                    const selectedValue = dropdown.options[dropdown.selectedIndex].value;

                    // Fetch the due amount data based on the selected value
                    if (selectedValue === "fwgData") {
                        $('#gcsAmount, #fgiitAmount').hide()
                        $('#fwgAmount').show()
                        getDueAmount(selectedStartDateDue, selectedEndDateDue, 'fwgData');
                    } else if (selectedValue === "fgiitData") {
                        $('#gcsAmount , #fwgAmount').hide()
                        $('#fgiitAmount').show()
                        getDueAmount(selectedStartDateDue, selectedEndDateDue, 'fgiitData');
                    } else if (selectedValue === "gcsData") {
                        $('#fgiitAmount, #fwgAmount').hide()
                        $('#gcsAmount').show()
                        // Handle other data if needed
                    }
                }


                function sendWhatsAppReminder(mobile, firstName, dueAmount) {
                    if (!mobile) {
                        // Handle missing mobile number
                        swal.fire({
                            title: 'Error',
                            text: 'Invalid Mobile Number is missing',
                            icon: 'error'
                        });
                        return;
                    }

                    const message = `*Hi ${firstName}*,

This is Team Gomzi. Your outstanding payment of ₹${dueAmount}/- is due. Please make the payment at your earliest convenience.

Any questions? Contact us at 8866842520.

Thanks,
Team Gomzi`;
                    const encodedMessage = encodeURIComponent(message);

                    const whatsappMessage = `https://api.whatsapp.com/send?phone=${mobile}&text=${encodedMessage}`;

                    // Open WhatsApp in a new tab with the pre-filled message
                    window.open(whatsappMessage, '_blank');

                    // Show success message
                    swal.fire({
                        title: 'Success',
                        text: 'Message sent successfully!',
                        icon: 'success'
                    });
                }

                $(document).ready(function () {
                    // Initialize date range picker and apply the initial date filter
                    $('#reportrange2').daterangepicker({
                        startDate: moment().subtract(29, 'days'),
                        endDate: moment(),
                        ranges: {
                            'Today': [moment(), moment()],
                            'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                            'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                            'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                            'This Month': [moment().startOf('month'), moment().endOf('month')],
                            'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')],
                            'Lifetime': [moment('2000-01-01'), moment()] // Add a Lifetime range
                        }
                    }, applyDateFilter2);

                    // Event handler for date range change
                    function applyDateFilter2(start, end) {
                        if (!start || !end) {
                            // Use the default date range if start and end are not provided
                            start = moment().subtract(29, 'days');
                            end = moment();
                        }

                        selectedStartDateLead = start;
                        selectedEndDateLead = end;

                        $('#reportrange2 span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'));

                        // Call your function to fetch data with the selected date range
                        getLeadChartData(selectedStartDateLead, selectedEndDateLead);
                    }

                    // Initial call to load data with the default date range
                    applyDateFilter2();

                    // Call the getLeadChartData function with the default date range when the page loads
                    getLeadChartData(selectedStartDateLead, selectedEndDateLead);
                });

                function getLeadChartData(startDate, endDate) {
                    // Format the startDate and endDate as YYYY-MM-DD
                    const formattedStartDate = startDate.format('YYYY-MM-DD');
                    const formattedEndDate = endDate.format('YYYY-MM-DD');

                    $.get({
                        url: 'http://localhost/admin/lead/',
                        // url: BASE_URL + '/lead',
                        data: {
                            startDate: formattedStartDate,
                            endDate: formattedEndDate
                        },
                        success: (result) => {
                            let leadData = result.data;
                            console.log(leadData);

                            // Check if data for all categories is 0
                            const isDataNotFound = Object.values(leadData).every(value => value === 0);

                            if (isDataNotFound) {
                                // Display a message when no data is found
                                displayNoDataFound();
                            } else {
                                // Display the chart with the extracted data
                                displayChartWithData(leadData);
                            }
                        },
                        error: handleError
                    });
                }

                function displayNoDataFound() {
                    const ctx = document.getElementById('pieChart').getContext('2d');

                    // Check if a chart with ID 'pieChart' already exists
                    const existingChart = Chart.getChart(ctx);
                    if (existingChart) {
                        // Destroy the existing chart
                        existingChart.destroy();
                    }

                    // Create a message when no data is found
                    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
                    ctx.font = '16px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText('No data found', ctx.canvas.width / 2, ctx.canvas.height / 2);
                }

                function displayChartWithData(leadData) {
                    const ctx = document.getElementById('pieChart').getContext('2d');

                    // Check if a chart with ID 'pieChart' already exists
                    const existingChart = Chart.getChart(ctx);
                    if (existingChart) {
                        // Destroy the existing chart
                        existingChart.destroy();
                    }

                    const socialMedia = leadData['Social Media'];
                    const google = leadData['Google'];
                    const reference = leadData['Reference'];
                    const facebook = leadData['Facebook Ads'];
                    $('#txt_social').text(socialMedia);
                    $('#txt_google').text(google);
                    $('#txt_facebook').text(facebook);
                    $('#txt_reference').text(reference);
                    const pieChartData = {
                        values: [
                            socialMedia,
                            google,
                            reference,
                            facebook,
                        ],
                    };

                    // Create the pie chart with Chart.js
                    const pieChart = new Chart(ctx, {
                        type: 'pie',
                        data: {
                            datasets: [{
                                data: pieChartData.values,
                                backgroundColor: [
                                    '#992cff',
                                    '#06db20',
                                    '#2cabff',
                                    '#2c4cff',
                                ],
                            }],
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            legend: {
                                position: 'bottom', // Change the label position to 'bottom'
                            },
                        },
                    });
                }

            </script>
</body>

</html>